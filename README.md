# Fortis Secured Web Experience

Fortis Secured delivers a premium marketing site and role-aware client portal built with React, Tailwind CSS and Appwrite. The
public landing page highlights Fortis services, platform capabilities and lead capture, while the secure portal surfaces
incidents, guard tasks, assets and KPI stats aligned to the supplied PRD.

## Tech stack

- **Frontend**: React (Vite) with Tailwind CSS
- **Design language**: Manrope font, glassmorphism gradients inspired by the Fortis colour palette
- **Authentication & data**: Appwrite (email/password, SSO, MFA ready)
- **Deployment targets**: Vercel for the frontend, Appwrite Cloud / self-hosted for backend services

## Getting started

```bash
npm install
npm run dev
```

Visit `http://localhost:5173` for the marketing site. The portal is available at `/portal` and will prompt for credentials
unless an active Appwrite session exists.

### Environment variables

Copy `.env.example` to `.env.local` (or configure in Vercel) and populate the Appwrite identifiers:

```ini
VITE_APPWRITE_ENDPOINT=https://cloud.appwrite.io/v1
VITE_APPWRITE_PROJECT_ID=your-project-id
VITE_APPWRITE_DATABASE_ID=security
VITE_APPWRITE_INCIDENTS_COLLECTION_ID=incidents
VITE_APPWRITE_ASSETS_COLLECTION_ID=assets
VITE_APPWRITE_SHIFTS_COLLECTION_ID=shifts
```

If the variables are omitted the portal gracefully falls back to rich sample data so stakeholders can preview the experience.

### Appwrite configuration

1. Enable email/password auth, desired OAuth providers (SSO) and multi-factor authentication in Appwrite.
2. Create the database and collections referenced above. Suggested attributes:
   - **Incidents**: `title`, `status`, `location`, `summary`, `reportedAt`
   - **Assets / Clients**: `name`, `status`, `location`, `contractValue`
   - **Shifts / Tasks**: `title`, `status`, `assignee`, `schedule`
3. Grant appropriate permissions using Appwrite Teams to reflect Admin, Client, Guard and Supervisor personas.
4. Deploy the frontend to Vercel, adding the Appwrite environment variables. The site is a static export generated by `npm run build`.

### Deployment notes

- **Vercel** – Use the default Vite static site preset (`npm run build`, output folder `dist`). No additional rewrites are required.
- **GitHub Pages** – Ensure the site is published from the `dist/` folder and that the branch is configured for Pages. The Vite configuration now sets `base: './'`, and the router consumes `import.meta.env.BASE_URL` so asset URLs resolve correctly even when the site is hosted from a sub-path such as `/Fortis-Secured/`.

### Available scripts

- `npm run dev` – Local development with hot module reloading
- `npm run build` – Production bundle (outputs to `dist/`)
- `npm run preview` – Preview the production build locally

## Folder structure

```
src/
  assets/data/        # Sample portal data for demos when Appwrite is offline
  components/         # Shared UI (navigation, footer, login form)
  context/            # Authentication context backed by Appwrite
  lib/                # Appwrite client bootstrap
  pages/              # Route-level views (public site, portal, 404)
  sections/           # Marketing site sections composed within the homepage
```

## Next steps

- Integrate portal widgets with live Appwrite documents and real-time subscriptions.
- Expand incident management to include create/update forms and file evidence uploads.
- Implement Appwrite Functions for scheduled reporting and notification fan-out.
